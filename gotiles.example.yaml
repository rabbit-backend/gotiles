sources:
  - name: source_name
    connection: "postgresql://username:password@localhost:5432/dbname?sslmode=disable"
    tiles:
      buildings:
        query: |
          SELECT ST_AsMVT(tile, 'buildings', 4096, 'geom') FROM (
            SELECT 
                ST_AsMVTGeom(
                    ST_Transform(ST_CurveToLine(geom), 3857),
                    ST_TileEnvelope($3, $1, $2),
                    4096, 64, true
                ) as geom
            FROM "public"."buildings"
            WHERE geom && ST_Transform(ST_TileEnvelope($3, $1, $2), 4326)
          ) as tile WHERE geom IS NOT NULL;
        min_zoom: 13
        max_zoom: 24
      name_2:
        query: ""
